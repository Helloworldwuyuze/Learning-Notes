# <center> 模拟赛 </center>

| 题目名称 | 艾达 | 乌鸦人 |  |  |
| :----------- | :----------- | :----------- | :----------- | :----------- |
| 题目类型 | 传统型 | 传统型 |  |  |
| 目录 | $\text{crow}$ | $\text{crow}$ |  |  |
| 输入文件名 | $\text{crow.in}$ | $\text{crow.in}$ |  |  |
| 输出文件名 | $\text{crow.out}$ | $\text{crow.out}$ |  |  |
| 时间限制 | $1000\text{ms}$ | $1000\text{ms}$ |  |  |
| 空间限制 | $128\text{MB}$ | $128\text{MB}$ |  |  |
| 测试点数目 | $10$ | $20$ |  |  |
| 测试点是否等分 | 是 | 是 |  |  |

## <center> 艾达($\text{Aida}$) </center>

### 【题目背景】

> 在此，艾达踏上一段需求宽恕的旅程。

### 【题目描述】

这个世界由一条条路组成。

这些路纵横交错，却有着相同的起源，它们四通八达，却来自同一个地方。

这个地方，叫根。

同时，每一条路由一些字母组成。在这些路的终点，是一个个法阵，用来放置艾达归还的几何体。

为了方便描述，有一些路是在另一条路的基础上延伸出去的一些字母，它们的尽头在更后方。

艾达独自进入了这个世界，来归还她盗走的几何体。

为了被宽恕，她想知道，在这个四通八达的路径上，长度在 $[l,r]$ 之间的路径 $(u,v)$ 中，字典序最大的是多少。

注意，在这个题目中，字典序被定义为 $\sum_{i=1}^n i\times s_i$。例如，对于字符串 $abc$，它的字典序为 $3*1+2*2+3*1=10$。

一条路径的长度被定义为路径上边的数量。

**值得注意的是**，如果两条路径的前缀字母都一样，我们可以把它们的前缀合并为一条路径。

### 【输入描述】

第一行一个数 $n,l,r$ 表示路径的数量以及所给范围。

接下来一共 $n$ 行，每行包含 2 个字符串以及 0~1 个数字。第一个字符串为 $\text{Insert}$ 或者 $\text{Add}$，如果字符串为 $Add$，则后面一个字符串 $s$ 表示加入一个字符串 $s$。如果字符串为 $\text{Insert}$，则后面包含一个字符串 $s$ 以及一个整数 $f$ 表示在第 $f$ 个字符串后面再加上 $s$ 变成一条新的路径。

### 【输出描述】

一行一个字符表示答案。

### 【样例输入输出】

#### 输入

```cpp
5 1 2
Add a
Insert b 1
Insert c 1
Insert d 1
Insert e 1
```

#### 输出

```cpp
21
```

#### 输入 2

```cpp
6 2 4
Add he
Insert llow 1
Insert kill 1
Insert orld 2
Insert her 3
Insert wuyuze 4
```

#### 输出 2

```cpp
4011
```

### 【数据范围】

对于 $15\%$ 的数据，满足 $n\le 10^2, \sum |s|\le4\times  10^2$。

对于 $40\%$ 的数据，满足 $n\le 2\times 10^3,\sum |s|\le 5\times 10^3$。

对于 $100\%$ 的数据，满足 $n\le 2\times 10^5,\sum |s|\le 5\times 10^5$。

对于所有数据，满足 $n\le 2\times 10^5$，$\sum |s|\le 5\times 10^5, 0\le l\le r\le n$。

## <center> 乌鸦人 ($\text{crow}$) </center>

### 【题目背景】

> 在此，艾达遇见讨厌的乌鸦人

### 【题目描述】

那些隐藏在黑暗中或者暴露在光亮中的乌鸦人，朝着不断靠近的艾达嘶吼。它们坐在艾达前进的路上，形成一条直线，在唯美的氛围和背景中，像是一团团黑色的梦魇，显得格外扎眼。艾达面无表情，面对这些乌鸦人，她似乎并无太多厌恶与烦躁，反而内心中泛起一阵阵波澜，因为忏悔。为了归还这一个几何体，艾达需要知道这些乌鸦人的位置，她发现，这里一共有 $n$ 个乌鸦人。这并不是一个好消息，因为她必须绕过所有的乌鸦人到达终点，并且还没有 **图腾** 的帮助，甚至需要在路途中寻找站点躲避。但是，她发现了一些信息，即从左往右数第 $i$ 个乌鸦人在 $j(j>i)$ 左边 $k$ 个。通过这些信息，她可以计算出什么时候出发到哪个节点。但是，为了保证能够顺利归还几何体，她需要你确认她的观测有没有可能是正确的。要是错了，她或许就要重新进行观测了。

### 【输入描述】

**本题有多组测试数据。**

第一行一个数 $T$ 代表数据组数。

对于每组数据，第一行两个个整数 $n,q$，分别代表总人数和观察数据总数。接下来 $q$ 行每行三个整数 $i,j,k$，意义见 【题目描述】。

### 【输出描述】

对于每一组数据，如果有可能则输出一行 `AC`，否则输出 `N0`。

### 【样例输入输出】

#### 输入 1

``` text
1
3 3
1 2 2
2 3 2
1 3 4
```

#### 输出 1

``` text
AC
```

#### 输入 2

``` text
1
4 4
2 1 2
2 3 6
3 4 3
2 4 8
```

### 输出 2

```text
N0
```

### 【数据范围】

对于 $30\%$ 的数据，满足 $T\le 20,\ n\le 10^3,\ q\le 2\times 10^3$。

对于 $80\%$ 的数据，满足 $T\le 20,\ n\le 5\times 10^4,\ q\le 10^5$。

对于 $100\%$ 的数据，满足 $T\le 40,\ n\le 10^5,\ q\le 2\times 10^5,\sum\limits n\le 10^6, \sum\limits q\le 2\times 10^6$。

对于所有数据，满足 $T\le 40$，$n\le 10^5$，$q\le 2\times 10^5$，$\sum\limits n\le 10^6$，$s\sum\limits q \le 2\times 10^ 5$，$1\le l_i,r_i\le n$，$0\le d_i\le 10^{10}$。

### 【提示】

> 这些乌鸦人好像。。。曾经也是这个王国的公民。
